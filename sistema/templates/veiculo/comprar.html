{% extends 'base.html' %}
{% load static %}

{% block titulo %}Comprar Veículo{% endblock %}

{% block conteudo %}
<div class="container mt-5">
  <div class="card mx-auto shadow" style="max-width: 700px;">
    {% if object.foto %}
      <img src="{{ object.foto.url }}" class="card-img-top" alt="{{ object.modelo }}" style="object-fit: cover; height: 300px;">
    {% else %}
      <img src="{% static 'img/sem-imagem.png' %}" class="card-img-top" alt="Sem imagem" style="object-fit: cover; height: 300px;">
    {% endif %}

    <div class="card-body">
      <h3>{{ object.modelo }} ({{ object.ano }})</h3>
      <p><strong>Marca:</strong> {{ object.get_marca_display }}</p>
      <p><strong>Preço:</strong> R$ {{ object.preco }}</p>
      <p><strong>Descrição:</strong> {{ object.descricao }}</p>
      <form method="post" action="">
        {% csrf_token %}
        <button type="submit" class="btn btn-warning">Confirmar Compra</button>
        <a href="{% url 'detalhar-veiculo' object.id %}" class="btn btn-secondary">Voltar</a>
      </form>

      {% if mensagem %}
        <div class="alert alert-success mt-3">{{ mensagem }}</div>
      {% endif %}

    </div>
  </div>
</div>
{% endblock %}
