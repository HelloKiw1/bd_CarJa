{% extends 'base.html' %}
{% load static %}

{% block titulo %}Alugar Veículo{% endblock %}

{% block conteudo %}
<div class="container mt-5">
  <div class="card mx-auto shadow" style="max-width: 700px;">
    {% if object.foto %}
      <img src="{{ object.foto.url }}" class="card-img-top" alt="{{ object.modelo }}" style="object-fit: cover; height: 300px;">
    {% else %}
      <img src="{% static 'img/sem-imagem.png' %}" class="card-img-top" alt="Sem imagem" style="object-fit: cover; height: 300px;">
    {% endif %}

    <div class="card-body">
      <h3>{{ object.modelo }} ({{ object.ano }})</h3>
      <p><strong>Marca:</strong> {{ object.get_marca_display }}</p>
      <p><strong>Preço diária:</strong> R$ {{ object.preco_diaria|default:object.preco }}</p>
      <p><strong>Descrição:</strong> {{ object.descricao }}</p>

      <form method="post" action="">
        {% csrf_token %}
        <div class="form-group mb-3">
          <label for="dias">Quantidade de dias</label>
          <input type="number" name="dias" id="dias" class="form-control" min="1" value="1" required>
        </div>
        <button type="submit" class="btn btn-success">Confirmar Locação</button>
        <a href="{% url 'detalhar-veiculo' object.id %}" class="btn btn-secondary">Voltar</a>
      </form>

      {% if show_summary_button %}
        <div class="text-center mt-4">
          <a href="{% url 'resumo-locacao' %}" class="btn btn-primary">Ver Resumo da Locação</a>
        </div>
      {% endif %}
      </form>

    </div>
  </div>
</div>
{% endblock %}
